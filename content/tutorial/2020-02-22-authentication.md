---
title: __Authentication
date: '2020-01-15'
draft: true
menu:
  tutorial:
    parent: "CodeStates"
    weight: 9
toc: yes
type: docs
---



## Cookie & Session

- HTTP의 stateless하고 connectionless한 특성 때문에, 서버와 클라이언트는 연속적으로 통신을 할 수 없습니다. 때문에 같은 유저가 여러 번 요청을 보내더라도, 서버는 그 유저와의 통신이 이전에도 있었던지 알 길이 없습니다.
- 만약 쿠키와 세션이 없는 가운데 권한 부여(authorization)을 구현하려 한다면, 새로운 요청이 있을 때마다 매번 인증(authentication) 작업을 해 주어야 할 것입니다. 이에 대한 보완책이 바로 쿠키(cookie)와 세션(session)입니다.

> 세션과 쿠키는 별개의 개념이 아닙니다! 세션 또한 쿠키를 기반으로 합니다. 서버에서 세션 id가 생성이 되면, 응답 시 쿠키에 세션 id를 실어 클라이언트에 전달합니다.




## Cookie 


- 서버가 사용자 브라우저 위치에 어떤 정보를 저장하고 불러오는 수단입니다.
- 특정 호스트에서 생성된 쿠키는 이후 모든 요청마다 서버로 전송됩니다.
- 이름, 값, 만료 날짜, 경로 정보 등으로 구성되어 있습니다.
- 필요할 때 참조나 재사용이 가능합니다.
- 4KB 이하 저장 가능


## Session

- 일정 시간 동안 같은 사용자로부터 오는 요구를 하나의 상태로 보고, 그 상태를 일정하게 유지시키는 수단.
- 여기서 일정 시간이란 방문자가 웹 브라우저를 통해 웹 서버에 접속한 시점으로부터 웹 브라우저를 종료하여 연결을 끝내는 시점을 말합니다.
- 웹 서버는 각각의 요청에 대하여 고유한 식별자인 session ID를 부여하여 클라이언트를 구별합니다.
- 웹 서버의 세션 스토리지에 세션 정보가 저장됩니다.
- 데이터 저장 제한 X
- 통신에만 발동되는 쿠키, 세션 쿠키 라고도 합니다.


## Token

![](/tutorial/2020-02-22-authentication_files/Screen Shot 2020-04-22 at 6.43.29 PM.png)

[reference](https://medium.com/@peterchang_82818/difference-session-cookie-token-vs-token-authentication-based-traditional-store-a177e8474ee3)


- 인증을 위해 사용되는 암호화 된 문자열입니다.
- 토큰 인증에서, 서버는 JWT(JSON Web Token)을 생성하여 클라이언트에 보냅니다.
- 클라이언트는 JWT를 로컬 스토리지 또는 쿠키에 저장하고, 세션과 마찬가지로 사용자가 보내는 모든 요청에 포함됩니다.
- 세션 인증에서 서버가 세션 정보를 관리했던 것과 달리, 서버는 JWT를 저장하지 않습니다! 다만 토큰이 유효한지 여부만을 확인할 뿐입니다.
- JWT를 추가적으로 저장할 공간이 필요 없기 때문에, 서비스가 커진다고 하여 서버에 추가적인 부하가 발생하지 않습니다. 더 효율적입니다!

