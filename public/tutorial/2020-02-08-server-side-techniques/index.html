<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.2.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="John Jung">

  
  
  
    
  
  <meta name="description" content="Callback  Callback Function이란, 그 함수 자체가 다른 함수의 인자(argument)로 넘겨져서 주어진 시점에 실행될 수 있도록 하는 함수입니다. 주어진 시점은 동기적일 수도 있고, 아닐 수도(비동기적) 있습니다.
  Async JS Callback   예제
 const printString = (string, callback) =&gt; { // 1  setTimeout( () =&gt; { console.log(string) callback() }, Math.floor(Math.random() * 100) &#43; 1 ) } const printAll = () =&gt; { // 2  printString(&#34;A&#34;, () =&gt; { // 4  printString(&#34;B&#34;, () =&gt; { // 5  printString(&#34;C&#34;, () =&gt; {}) // 6  }) }) } printAll() // 3    printString 함수 표현식: 이제 printString 함수를 호출할 수 있습니다.">

  
  <link rel="alternate" hreflang="en-us" href="/tutorial/2020-02-08-server-side-techniques/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-153100405-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/tutorial/2020-02-08-server-side-techniques/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="JohnJung">
  <meta property="og:url" content="/tutorial/2020-02-08-server-side-techniques/">
  <meta property="og:title" content="__Asynchronous | JohnJung">
  <meta property="og:description" content="Callback  Callback Function이란, 그 함수 자체가 다른 함수의 인자(argument)로 넘겨져서 주어진 시점에 실행될 수 있도록 하는 함수입니다. 주어진 시점은 동기적일 수도 있고, 아닐 수도(비동기적) 있습니다.
  Async JS Callback   예제
 const printString = (string, callback) =&gt; { // 1  setTimeout( () =&gt; { console.log(string) callback() }, Math.floor(Math.random() * 100) &#43; 1 ) } const printAll = () =&gt; { // 2  printString(&#34;A&#34;, () =&gt; { // 4  printString(&#34;B&#34;, () =&gt; { // 5  printString(&#34;C&#34;, () =&gt; {}) // 6  }) }) } printAll() // 3    printString 함수 표현식: 이제 printString 함수를 호출할 수 있습니다."><meta property="og:image" content="/img/icon-192.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2020-01-15T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2020-01-15T00:00:00&#43;00:00">
  

  

  

  <title>__Asynchronous | JohnJung</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">JohnJung</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>About me</span>
            
          </a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link" href="/tutorial/">
          
          <span>Technical Documents</span>
          
          </a>
        </li>

        

        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
          
          <span>Projects</span>
          
          </a>
        </li>

        

        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
          
          <span>Contact</span>
          
          </a>
        </li>

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>



<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <input name="q" type="search" class="form-control" id="search-query" placeholder="Search..." autocomplete="off">
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/">Today I Learned</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/it-terminology/">1.Technical terms</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/git/">2.Git</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/html/">3.Html</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/css/">4.Css</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/bootstrap/">5.Bootstrap</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/python/">6.Python</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/javascript/">7.Javascript</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/tutorial/2019-11-14-javascript-daliy-coding-level-1/">__Algorithm_1</a>
      </li>
      
      <li >
        <a href="/tutorial/2019-11-14-javascript-daliy-coding-level-2/">__Algorithm_2</a>
      </li>
      
      <li >
        <a href="/tutorial/javascript_algorithm/">__Algorithm_3</a>
      </li>
      
      <li >
        <a href="/tutorial/2019-11-14-javascript-my-mdn/">__My_MDN</a>
      </li>
      
      <li >
        <a href="/tutorial/2019-11-26-js-post/">__My_Notes</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/javascript_dictionary/">CodeStates</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/tutorial/2019-12-21-sprint1/">__Immersive Prep</a>
      </li>
      
      <li >
        <a href="/tutorial/2019-12-21-spint2/">__DS &amp; OOP</a>
      </li>
      
      <li >
        <a href="/tutorial/2020-01-05-spint-3/">__Iheritance</a>
      </li>
      
      <li >
        <a href="/tutorial/2020-01-13-sever/">__Web Architecture</a>
      </li>
      
      <li >
        <a href="/tutorial/2020-02-08-node/">__node</a>
      </li>
      
      <li >
        <a href="/tutorial/2020-01-20-react/">__React</a>
      </li>
      
      <li class="active">
        <a href="/tutorial/2020-02-08-server-side-techniques/">__Asynchronous</a>
      </li>
      
      <li >
        <a href="/tutorial/2020-02-06-database/">__Database</a>
      </li>
      
      <li >
        <a href="/tutorial/2020-02-22-authentication/">__Authentication</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

    </div>

    
    <div class="d-none d-xl-block col-xl-4 docs-toc"style="
    right: -88px;">
      
      <p class="docs-toc-title">On this page</p>
      

      <nav id="TableOfContents">
  <ul>
    <li><a href="#callback">Callback</a></li>
    <li><a href="#promise">Promise</a>
      <ul>
        <li><a href="#using-promises">Using Promises</a></li>
      </ul>
    </li>
    <li><a href="#promise-chaining">Promise Chaining</a></li>
    <li><a href="#promiseall">Promise.all</a></li>
    <li><a href="#asyncawait">async/await</a>
      <ul>
        <li><a href="#why-do-we-asyncawait">Why Do We ❤️async/await</a></li>
      </ul>
    </li>
    <li><a href="#fs-module">fs module</a>
      <ul>
        <li><a href="#waht-is-fs-module-">Waht is fs module ?</a></li>
      </ul>
    </li>
    <li><a href="#request">Request</a></li>
    <li><a href="#http-vs-https">HTTP VS HTTPS?</a></li>
  </ul>
</nav>

      <ul class="nav toc-top">
        <li><a href="#">Back to top</a></li>
      </ul>

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-7 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article" itemscope itemtype="http://schema.org/Article">

        <div class="docs-article-container">
          <h1 itemprop="name">__Asynchronous</h1>

          <div class="article-style" itemprop="articleBody">
            <h2 id="callback">Callback</h2>
<blockquote>
<p>Callback Function이란, 그 함수 자체가 다른 함수의 인자(argument)로 넘겨져서 주어진 시점에 실행될 수 있도록 하는 함수입니다. 주어진 시점은 동기적일 수도 있고, 아닐 수도(비동기적) 있습니다.</p>
</blockquote>
<ul>
<li>Async JS Callback</li>
</ul>
<blockquote>
<p>예제</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">printString</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">string</span>, <span style="color:#a6e22e">callback</span>) =&gt; { <span style="color:#75715e">// 1
</span><span style="color:#75715e"></span>    	<span style="color:#a6e22e">setTimeout</span>(
    		() =&gt; {
    			<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">string</span>)
    			<span style="color:#a6e22e">callback</span>()
    		},
    		Math.<span style="color:#a6e22e">floor</span>(Math.<span style="color:#a6e22e">random</span>() <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
    	)
    }
    
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">printAll</span> <span style="color:#f92672">=</span> () =&gt; { <span style="color:#75715e">// 2
</span><span style="color:#75715e"></span>    	<span style="color:#a6e22e">printString</span>(<span style="color:#e6db74">&#34;A&#34;</span>, () =&gt; { <span style="color:#75715e">// 4
</span><span style="color:#75715e"></span>    		<span style="color:#a6e22e">printString</span>(<span style="color:#e6db74">&#34;B&#34;</span>, () =&gt; { <span style="color:#75715e">// 5
</span><span style="color:#75715e"></span>    			<span style="color:#a6e22e">printString</span>(<span style="color:#e6db74">&#34;C&#34;</span>, () =&gt; {}) <span style="color:#75715e">// 6
</span><span style="color:#75715e"></span>    		})
    	})
    }
    
    <span style="color:#a6e22e">printAll</span>() <span style="color:#75715e">// 3
</span><span style="color:#75715e"></span>

</code></pre></div><ol>
<li>
<p><code>printString</code> 함수 표현식: 이제 printString 함수를 호출할 수 있습니다.</p>
</li>
<li>
<p><code>printAll</code> 함수 표현식: 이제 printAll 함수를 호출할 수 있습니다.</p>
</li>
<li>
<p>(가장 마지막 줄의) <code>printAll</code> 호출</p>
</li>
<li>
<p><code>**printString(A, callback)**</code> 호출</p>
<ol>
<li>
<p><code>setTimeout()</code> 호출 ⇒ (<code>setTimeout()</code>의) 첫 번째 인자는 Web or C/C++ API로 가버렸!</p>
</li>
<li>
<p>Callback Queue에서 기다리던 첫 번째 인자들이 드디어 호출</p>
</li>
<li>
<p>첫번째 인자 익명함수 내부의 <code>console.log()</code> 호출</p>
</li>
<li>
<p><code>callback()</code> 호출</p>
</li>
</ol>
</li>
<li>
<p><code>printString(A, **printString(B, callback)**)</code> 호출</p>
<ol>
<li>
<p><code>setTimeout()</code> 호출 ⇒ 첫번째 인자는 Web or C/C++ API로 가버렸!</p>
</li>
<li>
<p>Callback Queue에서 기다리던 첫번째 인자들이 드디어 호출</p>
</li>
<li>
<p>첫번째 인자 익명함수 내부의 <code>console.log()</code> 호출</p>
</li>
<li>
<p><code>callback()</code> 호출</p>
</li>
</ol>
</li>
<li>
<p><code>printString(A, printString(B, **printString(C, callback)**))</code> 호출</p>
<ol>
<li>
<p><code>setTimeout()</code> 호출 ⇒ 첫번째 인자는 Web or C/C++ API로 가버렸!</p>
</li>
<li>
<p>Callback Queue에서 기다리던 첫번째 인자들이 드디어 호출</p>
</li>
<li>
<p>첫번째 인자 익명함수 내부의 <code>console.log()</code> 호출</p>
</li>
<li>
<p><code>callback()</code> 호출</p>
</li>
</ol>
</li>
</ol>
<h2 id="promise">Promise</h2>
<ul>
<li><code>Promise</code>란 비동기 작업을 처리하기 위해 사용되는 객체입니다.</li>
<li>Callback 방식이 있음에도, Promise가 등장한 이유는 무엇일까요?
<ul>
<li>바로 콜백 함수를 여러 개 중첩하여 사용했을 때 발생하는 <strong>Callback Hell</strong> 때문입니다. Callback Hell이 발생하면 가독성도 떨어지고, 에러에 대한 처리도 어려워집니다.</li>
<li>Callback에 대한 대안으로서, 그간 라이브러리 형식으로 제공되었던 Promise가 ES6에서 공식적으로 도입이 되었습니다. 🎉</li>
</ul>
</li>
</ul>
<h3 id="using-promises">Using Promises</h3>
<ul>
<li>EX)</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">reliable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
    
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">promiseKept</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Promise(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>){ 
    	<span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">reliable</span>){
        <span style="color:#a6e22e">resolve</span>(<span style="color:#e6db74">&#39;약속을 지켰습니다😸&#39;</span>)  
    	} <span style="color:#66d9ef">else</span> {
        <span style="color:#a6e22e">reject</span>(<span style="color:#e6db74">&#39;약속을 지키지 않았습니다🙀&#39;</span>)  
    	}
    })


</code></pre></div><ul>
<li>
<p>먼저 <code>new Promise(실행 함수)</code>를 통해 프로미스 객체를 생성해야 합니다. <code>Promise</code> 생성자는 실행 함수를 받는데요. 이 실행 함수를 통해 <code>resolve</code>, <code>reject</code> 함수를 전달합니다.</p>
</li>
<li>
<p>어떤 비동기 작업이 성공적으로 끝나면, 실행 함수는 <code>resolve()</code>를 호출하여 결과를 반환합니다.</p>
</li>
<li>
<p>반대로 오류가 발생하면 <code>reject()</code>가 호출되어 프로미스가 거부됩니다. 통상적으로 <code>reject()</code>의 인자로는 오류의 원인이 전달되고요.</p>
</li>
<li>
<p>Promise에는 <strong>3가지 상태</strong>가 있습니다.</p>
<ol>
<li><strong>Pending</strong>: 프로미스가 이행되거나 거부되기 전, 즉 대기 상태.</li>
<li><strong>Resolved</strong>: 비동기 처리가 성공적으로 완료된 상태</li>
<li><strong>Rejected</strong>: 비동기 처리가 거부된 상태</li>
</ol>
</li>
<li>
<p>Promise가 성공적으로 이행이 되면, 실행함수의 <code>resolve</code> 를 통해 전달한 값을 <code>then()</code>으로 받을 수 있습니다. 반대로 거부되면, <code>reject</code>를 통해 전달한 오류의 원인을 <code>catch()</code> 메서드를 통해 받을 수 있습니다.</p>
<p>→ Promise의 세 가지 상태와 <code>then</code> 및 <code>catch</code> 메서드를 통해, 비동기 작업의 결과에 따른 분기 처리를 할 수 있습니다.</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fetchCatData</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Promise((<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>) =&gt; {
        <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;http://www.cat-holic.com/cats&#39;</span>,
         (<span style="color:#a6e22e">error</span>, <span style="color:#a6e22e">response</span>) =&gt; {
          <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">response</span>){ 
    					<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">response</span>);
    	      } <span style="color:#66d9ef">else</span> {
    	        <span style="color:#a6e22e">reject</span>(<span style="color:#a6e22e">error</span>);
    	      }                  
    			})
    	});
    
    <span style="color:#a6e22e">fetchCatData</span>.<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res</span>=&gt;<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">body</span>))
    		.<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">error</span>=&gt;<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">error</span>));


</code></pre></div><h2 id="promise-chaining">Promise Chaining</h2>
<ul>
<li><code>then()</code>과 <code>catch()</code> 메서드는 <strong>프로미스 객체</strong>를 반환합니다. 때문에 프로미스를 연결해서 사용하는 <strong>Promise chaining</strong>이 가능합니다.</li>
<li>즉, 어떤 비동기 작업의 결과를 바탕으로 또 다른 비동기 작업을 수행해야 하는 경우, <code>프로미스_객체.then().then() ...</code> 과 같은 형식으로 연결하여 처리할 수 있습니다. 이와 같은 패턴 덕분에, Callback을 중첩해서 쓰는 Callback hell에 빠지지 않을 수 있는 것이지요.</li>
</ul>
<p>![](/tutorial/2020-02-08-server-side-techniques_files/Screen Shot 2020-04-21 at 7.22.15 PM.png)</p>
<h2 id="promiseall">Promise.all</h2>
<ul>
<li>Promise.all 은 무엇일까요?</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">promise1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Promise((<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>)=&gt;{
      <span style="color:#a6e22e">setTimeout</span>(<span style="color:#a6e22e">resolve</span>, <span style="color:#ae81ff">5000</span>, <span style="color:#e6db74">&#39;a&#39;</span>);
    })
    
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">promise2</span> <span style="color:#f92672">=</span> Promise.<span style="color:#a6e22e">resolve</span>(<span style="color:#e6db74">&#39;b&#39;</span>)
    
    
    Promise.<span style="color:#a6e22e">all</span>([<span style="color:#a6e22e">promise1</span>, <span style="color:#a6e22e">promise2</span>])
    	.<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">results</span>=&gt;<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">results</span>)) <span style="color:#75715e">// Array[&#39;a&#39;, &#39;b&#39;]
</span><span style="color:#75715e"></span>
</code></pre></div><ul>
<li>
<p><code>Promise.all</code>은 순회 가능한 객체, 즉 배열을 인자로 받습니다. 이 배열은 프로미스로 이루어져 있는데, 배열에 속한 모든 프로미스가 처리되고 난 뒤, 그 처리 결과를 <code>resolve</code>합니다.</p>
</li>
<li>
<p>만약 배열의 프로미스가 하나라도 실패하면, 가장 먼저 실패한 프로미스의 <code>reject()</code>가 전달 받은 오류를 <code>catch()</code> 메서드로 넘겨주게 됩니다.</p>
</li>
</ul>
<h2 id="asyncawait">async/await</h2>
<ul>
<li><strong>Async function 선언</strong>은 <strong>AsyncFunction</strong> 객체를 반환하는 비동기 함수를 정의합니다. 반환된 AsyncFunction 객체는 호출 시 <strong>Promise</strong>를 반환합니다. <strong>즉, 동기적이던 함수를 비동기적인 함수로 바꿔주는 역할</strong>을 합니다.</li>
<li><strong>await</strong> 연산자는 Async function 내부에서만 사용할 수 있습니다. await는 (보통은 강제로)비동기화 된 함수에서, 일부 비동기 작업을 동기적으로 실행될 수 있게 합니다. 즉, 비동기적인 함수 실행 순서를 일부 동기적으로 하게 합니다, 더 쉽게 말하면, <strong>비동기 함수의 작업이 끝날 때까지 기다려줍니다.</strong></li>
</ul>
<ul>
<li>.then 문법을</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">
<span style="color:#f92672">-</span> <span style="color:#a6e22e">아래와</span> <span style="color:#a6e22e">같이</span> <span style="color:#a6e22e">작성된</span> <span style="color:#e6db74">`.then`</span> <span style="color:#a6e22e">문법을</span>

        <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getProcessedData</span>(<span style="color:#a6e22e">url</span>) {
          <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">downloadData</span>(<span style="color:#a6e22e">url</span>) <span style="color:#75715e">// returns a promise
</span><span style="color:#75715e"></span>            .<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">e</span> =&gt; {
              <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">downloadFallbackData</span>(<span style="color:#a6e22e">url</span>) <span style="color:#75715e">// returns a promise
</span><span style="color:#75715e"></span>            })
            .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">v</span> =&gt; {
              <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">processDataInWorker</span>(<span style="color:#a6e22e">v</span>); <span style="color:#75715e">// returns a promise
</span><span style="color:#75715e"></span>            });
        }
</code></pre></div><p>async / await으로 변경 가능합니다! 🎉</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">

        <span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getProcessedData</span>(<span style="color:#a6e22e">url</span>) {
          <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">v</span>;
          <span style="color:#66d9ef">try</span> {
            <span style="color:#a6e22e">v</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">downloadData</span>(<span style="color:#a6e22e">url</span>); 
          } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
            <span style="color:#a6e22e">v</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">downloadFallbackData</span>(<span style="color:#a6e22e">url</span>);
          }
          <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">processDataInWorker</span>(<span style="color:#a6e22e">v</span>);
        }

</code></pre></div><h3 id="why-do-we-asyncawait">Why Do We ❤️async/await</h3>
<ul>
<li>위의 예제 코드에서 await가 없었다면 <code>downloadData</code>, <code>downloadFallbackData</code>, <code>processDataInWorker</code> 함수가 모두 동시에, 비동기적으로 실행되어 각자의 역할에 충실할 수 없었을 것입니다.
<ol>
<li><code>downloadData</code> 함수를 통한 데이터 다운로드가 수행되지 못하여 <code>v</code>에 값이 제대로 할당되지 못했을 것이고,</li>
<li>에러 핸들링을 위한 함수 <code>downloadFallbackData</code>가 같이 실행되어 불필요한 리소스를 사용하고, 잘못된 값을 할당할 것이고</li>
<li>실제 작업( <code>processDataInWorker</code>) 또한 잘못된 인자 <code>v</code>를 받아 실행에 문제가 생길 것입니다.</li>
</ol>
</li>
</ul>
<h2 id="fs-module">fs module</h2>
<h3 id="waht-is-fs-module-">Waht is fs module ?</h3>
<p>![](/tutorial/2020-02-08-server-side-techniques_files/Screen Shot 2020-04-21 at 7.27.08 PM.png) What is fs module?</p>
<ul>
<li>node.js의 fs module은 OS(Windows, Linux, Unix(macOS))의 file system과 상호작용을 합니다. fs module을 사용하여 서버의 local storage에 접근하고 특정 파일의 생성, 읽기, 갱신, 삭제 (CRUD)가 가능합니다.</li>
</ul>
<p>![](/tutorial/2020-02-08-server-side-techniques_files/Screen Shot 2020-04-21 at 7.28.23 PM.png)</p>
<ul>
<li>
<p>다른 node.js 모듈처럼, fs 모듈의 메서드에서도 보통 첫번째 인자로 에러 객체를 받습니다. 에러가 생기는 경우, 에러 객체 자리에 <code>null</code>이나 <code>undefined</code>가 아닌 에러 객체가 들어가도록 node.js가 동작합니다. 에러가 없는 경우, 나머지 인자들을 기반으로 원하는 작업을 수행할 수 있습니다.</p>
</li>
<li>
<p>아래의 코드는 각각의 비동기 fs module 메소드를 실행시키기 때문에, <strong>순서대로 작동을 하지 않을 가능성</strong>이 높습니다. (순서대로 실행이 될 수도 있습니다만, 권장되지 않습니다.)</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">     
        <span style="color:#a6e22e">fs</span>.<span style="color:#a6e22e">rename</span>(<span style="color:#e6db74">&#39;/tmp/hello&#39;</span>, <span style="color:#e6db74">&#39;/tmp/world&#39;</span>, (<span style="color:#a6e22e">err</span>) =&gt; {
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">err</span>;
          <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;renamed complete&#39;</span>);
        });
        <span style="color:#a6e22e">fs</span>.<span style="color:#a6e22e">stat</span>(<span style="color:#e6db74">&#39;/tmp/world&#39;</span>, (<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">stats</span>) =&gt; {
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">err</span>;
          <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`stats: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">stats</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
        }); <span style="color:#75715e">// I&#39;m out of order...
</span><span style="color:#75715e"></span>
</code></pre></div><ul>
<li>우리가 의도한 순서대로 메서드가 작동하도록 하려면 <strong>Callback</strong>, <strong>Promise API</strong>, <strong>Async/Await</strong>을 사용해야 합니다.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">
        <span style="color:#a6e22e">fs</span>.<span style="color:#a6e22e">rename</span>(<span style="color:#e6db74">&#39;/tmp/hello&#39;</span>, <span style="color:#e6db74">&#39;/tmp/world&#39;</span>, (<span style="color:#a6e22e">err</span>) =&gt; {
          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">err</span>;
          <span style="color:#a6e22e">fs</span>.<span style="color:#a6e22e">stat</span>(<span style="color:#e6db74">&#39;/tmp/world&#39;</span>, (<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">stats</span>) =&gt; {
            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">err</span>;
            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`stats: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">stats</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
          });
        }); <span style="color:#75715e">// now I&#39;m in order !
</span></code></pre></div><h2 id="request">Request</h2>
<blockquote>
<p>The request module is by far the most popular (non-standard) Node package for making HTTP requests. Actually, <code>it is really just a wrapper around Node's built in http module</code>, so you can achieve all of the same functionality on your own with http, but request just makes it a whole lot easier.</p>
</blockquote>
<h2 id="http-vs-https">HTTP VS HTTPS?</h2>
<ul>
<li>
<p>**HTTP(Hypertext transfer protocol)**는 클라이언트-서버 간에 어떤 문서를 전송하고 받기 위한 통신 규약입니다. 그러나 HTTP에서 이루어지는 통신은 암호화되지 않았으므로 누구나 엿볼 수 있고, 또 통신을 요청하는 상대방에 대한 확인이 없기 때문에 보안에 결함이 있었습니다.</p>
</li>
<li>
<p>이러한 결함을 보완하여 등장한 것이 HTTPS(Hypertext transfer protocol over secure socket layer)입니다.</p>
</li>
</ul>
<p><a href="https://www.geeksforgeeks.org/difference-between-http-and-https">I&rsquo;m an inline-style link</a></p>

          </div>

          

        </div>

        <div class="body-footer">
          Last updated on Jan 15, 2020
        </div>

      </article>

      <footer class="site-footer">
  
  <p class="powered-by">
    <a href="/privacy/"></a>
  </p>
  

  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
  </p>
</footer>


    </main>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.7636b87b7ca0b6689810d4b648238174.js"></script>

  </body>
</html>


